# 요약 프롬프트 커스터마이징 가이드

코드 수정 없이 환경변수나 외부 프롬프트 파일만으로 요약 형식과 길이를 원하는 대로 바꿀 수 있습니다.

## 1) 환경 변수
- `SUMMARY_SYSTEM_PROMPT` : 시스템 메시지(모델의 역할). 파일 경로나 문자열을 지정할 수 있습니다.
- `SUMMARY_USER_PROMPT` : 실제 요약 형식을 지시하는 사용자 메시지. 파일 경로나 문자열을 지정할 수 있습니다.
- `SUMMARY_MAX_CHARS` : 요약에 넘길 전사 길이를 조정합니다. 기본 12,000자이며 값을 올리면 더 긴 요약 맥락을 확보할 수 있습니다.

> 두 프롬프트 변수는 파일 경로를 지정하면 파일 내용을 그대로 사용합니다. `{transcript}` 플레이스홀더가 있으면 전사가 그 위치에 삽입되고, 없으면 자동으로 "전사 내용:" 블록이 추가됩니다.

## 2) 샘플: 더 길고 구조화된 설교 요약 형식
아래처럼 길고 단계별 설명을 원할 때 `SUMMARY_USER_PROMPT`를 파일로 분리하면 편합니다.

```bash
cat <<'PROMPT' > ~/sermon_prompt.txt
아래 전사를 설교 요약으로 정리하세요.
- 제목, 본문 구절을 맨 위에 표시
- 【말씀을 받는 목적】과 【사명】 섹션을 각각 소제목/불렛으로 나눠 기술
- 핵심 결론과 적용점을 "※ 결론 및 적용" 형태로 3~5줄 작성
- 전체 길이는 기존 기본 요약보다 두 배 이상 길게, 세부 설명을 포함
- 불필요한 잡음/중복 표현은 제거

전사 전문:
{transcript}
PROMPT

export SUMMARY_USER_PROMPT=~/sermon_prompt.txt
export SUMMARY_SYSTEM_PROMPT="당신은 설교 전사를 꼼꼼하게 정리하는 한국어 어시스턴트입니다. 핵심 구조를 보존하고, 소제목과 불렛을 적절히 사용하세요."
export SUMMARY_MAX_CHARS=20000  # 더 긴 전사 맥락
```

이후 웹 UI나 CLI에서 요약을 실행하면 위 프롬프트가 그대로 반영된 형식으로 결과가 생성됩니다.
